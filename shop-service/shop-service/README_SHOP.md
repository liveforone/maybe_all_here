## 상점 서비스 소개
## 상세 요구사항
* 상점은 상품의 상위 계층이다.
* 상점 개설은 셀러만 가능하며, 한 셀러당 한 개의 상점만 만들 수 있다.
* 상점 개설시에 멤버 서비스로부터 회원 정보를 받아와 권한을 체키한다.
* 상점 조회는 누구나 가능하다.
* 상점에서는 상점 정보(전화번호, 주소, 상호) 등만 제공하고,
* 상점에 속하는 상품은 내 상품 보기 와 같은 버튼을 클릭시 상품 서비스의 api로 넘어가도록 한다.
* 즉 상점 서비스는 상품 목록으로 넘어가는 게이트 역할을 할뿐 직접적인 상품 목록을 제공하진 않는다.
* 외부식별자로는 회원의 email을 사용하며 unique 제약 조건을 건다.

## 상점 상세페이지
* 상점 상세 페이지는 두 종류가 있다.
* 첫째는 모두가 진입가능한 상세페이지이고,
* 두번째는 어드민 페이지와 같이 상점의 주인만 진입 가능한 페이지이다.
* 두번째 경우에는 상세 페이지 진입시 상점 정보 수정이 가능하고, 
* 첫째 페이지는 모두가 읽기 작업만 하는 페이지 이다.

## Api 설계
```
[POST] /create-shop : 상점 개설, auth == SELLER
[GET] /shop/{shopId} : 상점 상세조회
[GET] /shop/info/{email} : 상점 정보 상세 페이지, 상점의 주인만 접근 가능
[PATCH] /shop/change-name/{shopId} : 상호 변경, 상점의 주인만 접근 가능
[PATCH] /shop/change-address/{shopId} : 상점 주소 변경, 상점의 주인만 접근 가능
[PATCH] /shop/change-tel/{shopId} : 상점 전화번호 변경, 상점의 주인만 접근 가능
```

## Json body 예시
```
[상점 등록]
{
  "shopName": "test_shop",
  "address": "seoul, korea",
  "tel": "01012345678",
  "email": "seller1234@gmail.com"
}
```

## 시큐리티가 있는 서비스에서 데이터를 가져올때
* 유저 서비스는 시큐리티가 작동하는 서비스 이다.
* 문제는 시큐리티가 작동하는 서비스는 Feign client로 가져올때 주의해야한다.
* 로그인, 회원가입 처럼 permitAll로 외부에 개방하지 않으면 토큰을 넣고 호출하여도 문제가 발생한다.
* 따라서 시큐리티가 있는 서비스에서 데이터를 가져올때에는 해당 서비스의 시큐리티에 permitAll로 외부에 개방한다.